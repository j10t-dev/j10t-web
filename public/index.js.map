{
  "version": 3,
  "sources": ["index.ts"],
  "sourcesContent": ["import type { TopLevelSpec } from \"https://esm.sh/vega-lite@5.16.3\";\n\ndeclare global {\n  interface Window {\n    vegaEmbed: (\n      el: string,\n      spec: TopLevelSpec,\n      opts: { renderer: string; actions: boolean },\n    ) => Promise<unknown>;\n  }\n}\n\n// Chart definitions matching backend\nconst CHARTS = [\n  { type: 'lr', name: 'Calves' },\n  { type: 'lr', name: 'Thighs' },\n  { type: 'lr', name: 'Forearms' },\n  { type: 'lr', name: 'Biceps' },\n  { type: 'single', name: 'Weight' },\n  { type: 'single', name: 'Hips' },\n  { type: 'single', name: 'Waist' },\n  { type: 'single', name: 'Chest' },\n];\n\nasync function loadChart(type: string, name: string, chartDiv: HTMLElement): Promise<void> {\n  try {\n    const response = await fetch(`/api/charts/${type}/${name.toLowerCase()}`);\n    if (!response.ok) return;\n    \n    const chartSpec = await response.json();\n    await (globalThis as typeof window).vegaEmbed(chartDiv, chartSpec, {\n      renderer: \"svg\",\n      actions: false,\n    });\n  } catch (_error) {\n    chartDiv.innerHTML = `<p>Failed to load ${name} chart</p>`;\n  }\n}\n\nglobalThis.addEventListener(\"DOMContentLoaded\", () => {\n  const visContainer = document.getElementById(\"vis\");\n  if (!visContainer) return;\n  \n  visContainer.innerHTML = \"\";\n  \n  // Create containers and start parallel loading\n  CHARTS.forEach((chart, index) => {\n    const chartDiv = document.createElement(\"div\");\n    chartDiv.id = `chart-${index}`;\n    chartDiv.className = \"chart-container\";\n    visContainer.appendChild(chartDiv);\n    \n    // Start loading immediately\n    loadChart(chart.type, chart.name, chartDiv);\n  });\n});\n"],
  "mappings": "MAaA,IAAMA,EAAS,CACb,CAAE,KAAM,KAAM,KAAM,QAAS,EAC7B,CAAE,KAAM,KAAM,KAAM,QAAS,EAC7B,CAAE,KAAM,KAAM,KAAM,UAAW,EAC/B,CAAE,KAAM,KAAM,KAAM,QAAS,EAC7B,CAAE,KAAM,SAAU,KAAM,QAAS,EACjC,CAAE,KAAM,SAAU,KAAM,MAAO,EAC/B,CAAE,KAAM,SAAU,KAAM,OAAQ,EAChC,CAAE,KAAM,SAAU,KAAM,OAAQ,CAClC,EAEA,eAAeC,EAAUC,EAAcC,EAAcC,EAAsC,CACzF,GAAI,CACF,IAAMC,EAAW,MAAM,MAAM,eAAeH,CAAI,IAAIC,EAAK,YAAY,CAAC,EAAE,EACxE,GAAI,CAACE,EAAS,GAAI,OAElB,IAAMC,EAAY,MAAMD,EAAS,KAAK,EACtC,MAAO,WAA6B,UAAUD,EAAUE,EAAW,CACjE,SAAU,MACV,QAAS,EACX,CAAC,CACH,MAAiB,CACfF,EAAS,UAAY,qBAAqBD,CAAI,YAChD,CACF,CAEA,WAAW,iBAAiB,mBAAoB,IAAM,CACpD,IAAMI,EAAe,SAAS,eAAe,KAAK,EAC7CA,IAELA,EAAa,UAAY,GAGzBP,EAAO,QAAQ,CAACQ,EAAOC,IAAU,CAC/B,IAAML,EAAW,SAAS,cAAc,KAAK,EAC7CA,EAAS,GAAK,SAASK,CAAK,GAC5BL,EAAS,UAAY,kBACrBG,EAAa,YAAYH,CAAQ,EAGjCH,EAAUO,EAAM,KAAMA,EAAM,KAAMJ,CAAQ,CAC5C,CAAC,EACH,CAAC",
  "names": ["CHARTS", "loadChart", "type", "name", "chartDiv", "response", "chartSpec", "visContainer", "chart", "index"]
}
